<p id="notice"><%= notice %></p>
<%#= current_user%>
<%if @user%>
  <h1><%= t(".List of posted books by", Contributor: "#{@user.name}")%></h1>
<%else%>
  <h1><%= t ".Books" %></h1>
<%end%>
<br>
<table class="table table-hover">
  <thead>
    <tr class="thead-dark">
      <th><%= Book.human_attribute_name(:title) %></th>
      <th><%= Book.human_attribute_name(:author) %></th>
      <th><%= Book.human_attribute_name(:memo) %></th>
      <th><%= Book.human_attribute_name(:user_id) %></th>
      <th><%= Book.human_attribute_name(:picture) %></th>
      <th><%= Book.human_attribute_name(:updated_at) %></th>
      <th colspan="3"></th>
    </tr>
  </thead>
  <tbody>
    <% @books.each do |book| %>
      <tr>
        <td><%= book.title %></td>
        <td><%= book.author %></td>
        <td><%= book.memo.truncate(Constants::DISPLAYABLE_NUMBER_OF_CHARACTERS) %></td>
        <td><%= link_to book.user.name ,user_books_path(book.user.id)%></td>
        <td><%= "â—¯" if book.picture.present? %></td>
        <td><%= l(book.created_at, format: :short) %></td>
        <td><button type="button" class="btn btn-outline-info btn-sm"><%= link_to t("link.Show"), book %></button></td>
        <%if current_user.id == book.user.id%>
          <td><button type="button" class="btn btn-outline-info btn-sm"><%= link_to t("link.Edit"), edit_book_path(book) %></button></td>
          <td><button type="button" class="btn btn-outline-danger btn-sm"><%= link_to t("link.Destroy"), book, method: :delete, data: { confirm: t("modal.confirm") } %></button></td>
        <%end%>
      </tr>
    <% end %>
  </tbody>
</table>
<br>
<div class="text-monospace bg-white">
  <%if current_user%>
    <button type="button" class="btn btn-outline-info"><%= link_to t(".New Book"), new_book_path %></button>
  <%end%>
  <div class="paginate mt-4"><%= paginate @books %></div>
</div>
